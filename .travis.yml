#language: csharp
solution: TweetNaCl.sln

# dotnet cli require Ubuntu 14.04
sudo: required
dist: trusty

mono:
  - latest
  
install:
  - sudo apt-get install -y curl
  -  curl https://dist.nuget.org/win-x86-commandline/latest/nuget.exe -o nuget.exe
  - mono --runtime=v4.0 nuget.exe restore ./src/TweetNaCl.sln
  - mono --runtime=v4.0 nuget.exe install NUnit.Runners -Version 2.6.4 -OutputDirectory testrunner

script:
  - xbuild /p:Configuration=Release ./src/TweetNaCl.sln
  - mono ./testrunner/NUnit.Runners.2.6.4/tools/nunit-console.exe ./src/TweetNaCl.Tests/bin/Release/TweetNaCl.Tests.dll

